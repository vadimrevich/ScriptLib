# Создание установочного файла

### Требования к системе

Инсталляционные файлы для этого дистрибутива создавались на компьютере с операционной системой Microsoft Windows 10 Pro. Потенциально возможен, но не тестировался, запуск установки инсталлятора на компьютерах с Microsoft Windows 7.

Для разработки проектов с использование данных библиотек нужно добавить каталог проектов разработчика (обычноб но не обязательно, это %USERPROFILE%\source или %USERPROFILE%\Documents\GitHub) в исключения вашей антивирусной программы. Это предотвратит удаление важных файлов при случайном совпадении файлов с вирусными сигнатурами. После сборки вы можете проверить готовую сборку антивирусными программами.

Для тестирования программ нужно установить следующее программное обеспечение:

- Microsoft Powershell Core последней версии с GitHub;
- Microsoft Powershell 5.0 из центра обновления Windows;
- Strawberry Perl for Windows последней версии с официального сайта.
- Один из редакторов кода с подсветкой: Sublime Text, Notepad++, AkelPad, VisualCode и т.п.

Однако для создания дистрибутивов они не требуются.

Собственно для создания бинарного дистрибутива необходимы:

- Программа 7Zip Игоря Павлова последней версии;
- 7z SFX Builder 2.1
- Модули для 7z SFX Builder 7zsd Tools

Загрузить необходимые дистрибутивы и модули можно из репозитория на GitHub: <https://github.com/vadimrevich/thirdpartypackagewindows>.

Последние версии двух последних программ можно найти в каталоге 7z. Там же инструкция по их установке.

## Создание бинарного архива с установщиком

### Создание обычного архива 7z

- Перейдите в каталог C/pub1/Distrib/LIB/ От корня репозитория.
- Распакуйте в текущий каталог и удалите архивные файлы с бинарными данными `Exe.zip` и `LIB-DLL.zip`.
- Вернитесь обратно в каталог репозитория.
- Далее просто запустите на исполнение файл `LIBScript.Build.cmd` в корне репозитория.

### Создание самораспаковывающегося архива 7z

- Установите и запустите файл 7z SFX Builder.
- Откройте в каталоге `Scripts/`файл `config.txt`и отредактируйте его параметры, прежде всего, пути в 7zSFXBuilder_7zArchive, 7zSFXBuilder_SFXModule, 7zSFXBuilder_SFXName.
- Загрузите в программу 7z SFX Builder файл `Scripts/config.txt`, ещё раз проверьте настройки и сгенерируйте SFX архив.